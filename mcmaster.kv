#File name: mac.kv
#:import NoTransition kivy.uix.screenmanager.NoTransition
#:import SlideTransition kivy.uix.screenmanager.SlideTransition
MyScreenManager:
    MainMenu:
    OrderMeals:
    OrderDrinks:
    OrderDesserts:
    FinalMenu:

<Layout>:
    canvas:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            pos: self.pos
            size: self.size

<RoundedButton@Button>:
    background_color: 0,0,0,0
    background_normal: ''
    canvas.before:
        RoundedRectangle:
            pos: self.pos
            size: self.size
            source: "img/buttonlogo.png" if self.state == "normal" else 'img/buttonlogopressed.png'
<RoundedLabel@Label>:
    background_color: 0,0,0,0
    background_normal: ''
    canvas.before:
        RoundedRectangle:
            pos: self.pos
            size: self.size
            source:"img/buttonlogo.png"
<RoundButton@Button>:
    background_color: 0,0,0,0
    background_normal: ''
    canvas.before:
        RoundedRectangle:
            pos: self.pos
            size: self.size
            source: 'img/minus.png' if self.state == "normal" else 'img/minus_pressed.png'
<RoundButtonPlus@Button>:
    background_color: 0,0,0,0
    background_normal: ''
    canvas.before:
        RoundedRectangle:
            pos: self.pos
            size: self.size
            source: 'img/plus.png' if self.state == "normal" else 'img/plus_pressed.png'
            radius: [400,]
<MainMenu>:
    name:"mainu"
    FloatLayout:
        canvas:
            Rectangle:
                pos: self.pos
                size: self.size
                source: "img/mainbg.png"
        orientation: 'vertical'
        size: root.width, root.height
        spacing: 0
        padding: 0
        Label:
            markup: True
            text: "[font=Anton-Regular]McMaster Self-Serve Kiosk"
            pos_hint: {'center_x':0.5, 'top': .9}
            halign: 'center'
            font_size: root.height/20
            color: 1,1,1,1
            size_hint: .2,.1
        RoundedButton:
            markup: True
            text: "[font=LeagueSpartan-Bold]Order Here"
            size_hint: 0.5, 0.1
            pos_hint: {'center_x':0.5, 'y': 0.15}
            font_size: root.height/20
            on_release:
                app.root.current = "orderm"
                root.manager.transition.direction= "up"
<OrderMeals>:
    name:"orderm"
    GridLayout:
        size: root.width, root.height
        cols:2
        BoxLayout:
            orientation:'vertical'
            size_hint: .25,1
            FloatLayout:
                size_hint: 1,1
                canvas:
                    Rectangle:
                        pos: self.pos
                        size: self.size
                        source: "img/orderbgside.png"
                Button:
                    size_hint: 1,.2
                    pos_hint:{'top':0.81}
                    background_color: 0,0,0,0
                    background_normal: ''
                    canvas.before:
                        Rectangle:
                            pos: self.pos
                            size: self.size
                            source: 'img/mealslogo.png' if root.manager.current != "orderm" else 'img/mealslogo_down.png'
                    on_release:
                        root.manager.transition = NoTransition()
                        app.root.current="orderm"
                Button:
                    size_hint: 1,.2
                    pos_hint:{'top':0.61}
                    background_color: 0,0,0,0
                    background_normal: ''
                    canvas.before:
                        Rectangle:
                            pos: self.pos
                            size: self.size
                            source: 'img/drinkslogo.png' if self.state == "normal" else 'img/drinkslogo_down.png'
                    on_release:
                        root.manager.transition = NoTransition()
                        app.root.current="orderdr"
                Button:
                    size_hint: 1,.2
                    pos_hint:{'top':0.41}
                    background_color: 0,0,0,0
                    background_normal: ''
                    canvas.before:
                        Rectangle:
                            pos: self.pos
                            size: self.size
                            source: 'img/dessert.png' if self.state == "normal" else 'img/dessert_down.png'
                    on_release:
                        root.manager.transition = NoTransition()
                        app.root.current="orderde"
                RoundedButton:
                    markup: True
                    size_hint: 0.9,.05
                    pos_hint:{'center_x':0.5,'top':0.11}
                    text:"[font=LeagueSpartan-Bold]Back"
                    on_release:
                        root.manager.transition = SlideTransition()
                        app.root.current="mainu"
                        root.manager.transition.direction="down"
        BoxLayout:
            orientation:'vertical'
            size_hint: .75,1
            FloatLayout:
                canvas:
                    Rectangle:
                        pos: self.pos
                        size: self.size
                        source:"img/orderbgmenu.png"
                Label:
                    markup: True
                    pos_hint:{'x': .1, 'top': .95}
                    text:"[font=LeagueSpartan-Bold]Meals"
                    size_hint:.1,.1
                    font_size: root.height/16
                RoundButton:
                    pos_hint:{'x': .14, 'top': .623}
                    size_hint:.07,.05
                Label:
                    pos_hint:{'x': 2, 'top': .623}
                    size_hint:.07,.05
                RoundButtonPlus:
                    pos_hint:{'x': .29, 'top': .623}
                    size_hint:.07,.05
                RoundedLabel:
                    markup: True
                    pos_hint:{'x': .1, 'top': .11}
                    text:"Total: $0.00"
                    font_name:"LeagueSpartan-Bold"
                    size_hint:.4,.05
                RoundedButton:
                    markup: True
                    size_hint: 0.3,.05
                    pos_hint:{'right':0.88,'top':0.11}
                    text:"[font=LeagueSpartan-Bold]Finish Order"
                    on_release:
                        root.manager.transition = SlideTransition(direction="up")
                        app.root.current="finalu"
<OrderDrinks>:
    name:"orderdr"
    GridLayout:
        size: root.width, root.height
        cols:2
        BoxLayout:
            orientation:'vertical'
            size_hint: .25,1
            FloatLayout:
                size_hint: 1,1
                canvas:
                    Rectangle:
                        pos: self.pos
                        size: self.size
                        source: "img/orderbgside.png"
                Button:
                    size_hint: 1,.2
                    pos_hint:{'top':0.81}
                    background_color: 0,0,0,0
                    background_normal: ''
                    canvas.before:
                        Rectangle:
                            pos: self.pos
                            size: self.size
                            source: 'img/mealslogo.png' if self.state == "normal" else 'img/mealslogo_down.png'
                    on_release:
                        root.manager.transition = NoTransition()
                        app.root.current="orderm"
                Button:
                    size_hint: 1,.2
                    pos_hint:{'top':0.61}
                    background_color: 0,0,0,0
                    background_normal: ''
                    canvas.before:
                        Rectangle:
                            pos: self.pos
                            size: self.size
                            source: 'img/drinkslogo.png' if root.manager.current != "orderdr" else 'img/drinkslogo_down.png'
                    on_release:
                        root.manager.transition = NoTransition()
                        app.root.current="orderdr"
                Button:
                    size_hint: 1,.2
                    pos_hint:{'top':0.41}
                    background_color: 0,0,0,0
                    background_normal: ''
                    canvas.before:
                        Rectangle:
                            pos: self.pos
                            size: self.size
                            source: 'img/dessert.png' if self.state == "normal" else 'img/dessert_down.png'
                    on_release:
                        root.manager.transition = NoTransition()
                        app.root.current="orderde"
                RoundedButton:
                    markup: True
                    size_hint: 0.9,.05
                    pos_hint:{'center_x':0.5,'top':0.11}
                    text:"[font=LeagueSpartan-Bold]Back"
                    on_release:
                        root.manager.transition = SlideTransition()
                        app.root.current="mainu"
                        root.manager.transition.direction="down"
        BoxLayout:
            orientation:'vertical'
            size_hint: .75,1
            FloatLayout:
                canvas:
                    Rectangle:
                        pos: self.pos
                        size: self.size
                        source:"img/orderbgmenu.png"
                Label:
                    markup: True
                    pos_hint:{'x': .1, 'top': .95}
                    text:"[font=LeagueSpartan-Bold]Drinks"
                    size_hint:.1,.1
                    font_size: root.height/16
                RoundedLabel:
                    markup: True
                    pos_hint:{'x': .1, 'top': .11}
                    text:"Total: $0.00"
                    font_name:"LeagueSpartan-Bold"
                    size_hint:.4,.05
                RoundedButton:
                    markup: True
                    size_hint: 0.3,.05
                    pos_hint:{'right':0.88,'top':0.11}
                    text:"[font=LeagueSpartan-Bold]Finish Order"
                    on_release:
                        root.manager.transition = SlideTransition(direction="up")
                        app.root.current="finalu"
<OrderDesserts>:
    name:"orderde"
    GridLayout:
        size: root.width, root.height
        cols:2
        BoxLayout:
            orientation:'vertical'
            size_hint: .25,1
            FloatLayout:
                size_hint: 1,1
                canvas:
                    Rectangle:
                        pos: self.pos
                        size: self.size
                        source: "img/orderbgside.png"
                Button:
                    size_hint: 1,.2
                    pos_hint:{'top':0.81}
                    background_color: 0,0,0,0
                    background_normal: ''
                    canvas.before:
                        Rectangle:
                            pos: self.pos
                            size: self.size
                            source: 'img/mealslogo.png' if self.state == "normal" else 'img/mealslogo_down.png'
                    on_release:
                        root.manager.transition = NoTransition()
                        app.root.current="orderm"
                Button:
                    size_hint: 1,.2
                    pos_hint:{'top':0.61}
                    background_color: 0,0,0,0
                    background_normal: ''
                    canvas.before:
                        Rectangle:
                            pos: self.pos
                            size: self.size
                            source: 'img/drinkslogo.png' if self.state == "normal" else 'img/drinkslogo_down.png'
                    on_release:
                        root.manager.transition = NoTransition()
                        app.root.current="orderdr"
                Button:
                    size_hint: 1,.2
                    pos_hint:{'top':0.41}
                    background_color: 0,0,0,0
                    background_normal: ''
                    canvas.before:
                        Rectangle:
                            pos: self.pos
                            size: self.size
                            source: 'img/dessert.png' if root.manager.current != "orderde" else 'img/dessert_down.png'
                    on_release:
                        root.manager.transition = NoTransition()
                        app.root.current="orderde"
                RoundedButton:
                    markup: True
                    size_hint: 0.9,.05
                    pos_hint:{'center_x':0.5,'top':0.11}
                    text:"[font=LeagueSpartan-Bold]Back"
                    on_release:
                        root.manager.transition = SlideTransition()
                        app.root.current="mainu"
                        root.manager.transition.direction="down"
        BoxLayout:
            orientation:'vertical'
            size_hint: .75,1
            FloatLayout:
                canvas:
                    Rectangle:
                        pos: self.pos
                        size: self.size
                        source:"img/orderbgmenu.png"
                Label:
                    markup: True
                    pos_hint:{'x': .1, 'top': .95}
                    text:"[font=LeagueSpartan-Bold]Desserts"
                    size_hint:.1,.1
                    font_size: root.height/16
                RoundedLabel:
                    markup: True
                    pos_hint:{'x': .1, 'top': .11}
                    text:"Total: $0.00"
                    font_name:"LeagueSpartan-Bold"
                    size_hint:.4,.05
                RoundedButton:
                    markup: True
                    size_hint: 0.3,.05
                    pos_hint:{'right':0.88,'top':0.11}
                    text:"[font=LeagueSpartan-Bold]Finish Order"
                    on_release:
                        root.manager.transition = SlideTransition(direction="up")
                        app.root.current="finalu"
<FinalMenu>:
    name:"finalu"
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, .1
            Label:
                markup: True
                text:"[font=BRITANIC]McMaster Student Hub Self-Order"
                color: 0,0,0,1
                size_hint:0.5,.1
                pos_hint:{'center_x': 0.5, 'top': 1}
        BoxLayout:
            orientation: 'vertical'
            pos: self.pos
            size: self.size
            FloatLayout:
                canvas:
                    Rectangle:
                        pos: self.pos
                        size: self.size
                        source:'img/receipt.png'
                Label:
                    markup: True
                    text: "[font=TypeWriter]Subtotal:"
                    font_size: root.height/22
                    pos_hint:{'center_x': 0.25,'top': .7}
                    size_hint: .3,None
                    height: 50
                    color: 0,0,0,1

                Label:
                    id:subtotal
                    markup: True
                    text: "0.00"
                    font_name: "TypeWriter"
                    font_size: root.height/22
                    pos_hint:{'center_x': 0.35,'top': .7}
                    size_hint: .3,None
                    height: 50
                    color: 0,0,0,1
                Label:
                    markup: True
                    text: "[font=TypeWriter]Total Tax:"
                    font_size: root.height/22
                    pos_hint:{'center_x': 0.25, 'top': .6}
                    size_hint: .3,None
                    height: 50
                    color: 0,0,0,1
                Label:
                    id:tax
                    markup: True
                    text: "$0.00"
                    font_name: "TypeWriter"
                    font_size: root.height/22
                    pos_hint:{'center_x': 0.35,'top': .6}
                    size_hint: .3,None
                    height: 50
                    color: 0,0,0,1
                Label:
                    markup: True
                    text: "[font=TypeWriter]Total:"
                    font_size: root.height/22
                    pos_hint:{'center_x': 0.25, 'top': .5}
                    size_hint: .3,None
                    height: 50
                    color: 0,0,0,1
                Label:
                    id:total
                    markup: True
                    text: "$0.00"
                    font_name: "TypeWriter"
                    font_size: root.height/22
                    pos_hint:{'center_x': 0.35,'top': .5}
                    size_hint: .3,None
                    height: 50
                    color: 0,0,0,1
                RoundedButton:
                    markup: True
                    text:"[font=BRITANIC]Finish Order"
                    pos_hint:{'center_x':0.5, 'top': .35}
                    size_hint: .3, .1
                    on_release:
                        root.finishBill()
                Label:
                    markup: True
                    text: "[font=TypeWriter]Order Status:"
                    font_size: root.height/24
                    pos_hint:{'center_x': 0.4, 'top': .33}
                    size_hint: .3, .3
                    color: (0,0,0,1)
                Label:
                    id:status
                    markup: True
                    text: "Incomplete"
                    font_name: "TypeWriter"
                    font_size: root.height/24
                    pos_hint:{'center_x': 0.6, 'top': .33}
                    size_hint: .3, .3
                    color: (0,154/255,59/255,0.8)
        BoxLayout:
            orientation: 'horizontal'
            pos_hint:{'center_x':0.5}
            size_hint: .3, .1
            RoundedButton:
                markup: True
                size_hint: .3, .5
                text: "[font=BRITANIC]Back"
                pos_hint:{'center_x': 0.5}
                on_release:
                    app.root.current = "orderu"
                    root.manager.transition.direction= "down"